# –ü–æ–ª–Ω–∞—è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ù–∞—Å—Ç—Ä–æ–π–∫–µ

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. Supabase –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ –£–¥–∞–ª–µ–Ω —Ä–µ–∂–∏–º –¥–µ–º–æ
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–Ω–æ–Ω–∏–º–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤ –∏–∑ Supabase

### 2. –†—É—Å—Å–∫–∞—è –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω next-intl
- ‚úÖ –í—Å–µ UI –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
- ‚úÖ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ (–±–µ–∑ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è)

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –§–∞–π–ª—ã
- ‚úÖ `lib/supabase.ts` - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ `app/page.tsx` - –†—É—Å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ `app/trainer/page.tsx` - –†—É—Å—Å–∫–∏–π + Supabase
- ‚úÖ `app/api/saveResult/route.ts` - –ê–Ω–æ–Ω–∏–º–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
- ‚úÖ `components/trainer/Recorder.tsx` - –†—É—Å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ `middleware.ts` - i18n middleware
- ‚úÖ `next.config.js` - next-intl plugin
- ‚úÖ `app/layout.tsx` - i18n provider

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ù–∞—Å—Ç—Ä–æ–π–∫–µ

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
npm install
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π .env.local

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
```

**–ì–¥–µ –Ω–∞–π—Ç–∏ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è:**
1. –ó–∞–π–¥–∏ –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç Supabase: https://supabase.com
2. –ü–µ—Ä–µ–π–¥–∏ –≤ Settings > API
3. –°–∫–æ–ø–∏—Ä—É–π:
   - **Project URL** ‚Üí `NEXT_PUBLIC_SUPABASE_URL`
   - **anon public key** ‚Üí `NEXT_PUBLIC_SUPABASE_ANON_KEY`

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π –ë–∞–∑—É –î–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π SQL Editor –≤ Supabase
2. –°–∫–æ–ø–∏—Ä—É–π –∏ –≤—ã–ø–æ–ª–Ω–∏ SQL –∏–∑ —Ñ–∞–π–ª–∞ `supabase/schema.sql`
3. –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ –∏–Ω–¥–µ–∫—Å—ã

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏ –ü—Ä–æ–µ–∫—Ç

```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π http://localhost:3000

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è SQL –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã:

- `user_profiles` - –ü—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `reading_texts` - –¢–µ–∫—Å—Ç—ã –¥–ª—è —á—Ç–µ–Ω–∏—è
- `reading_results` - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —á—Ç–µ–Ω–∏—è

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–Ω–æ–Ω–∏–º–Ω–æ–µ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å ID –≤–∏–¥–∞ `anon_1234567890`
- –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å —Å –∞–∫–∫–∞—É–Ω—Ç–æ–º

### –ó–∞–≥—Ä—É–∑–∫–∞ –¢–µ–∫—Å—Ç–æ–≤
1. –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ Supabase
2. –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π `data/texts.json`
3. –¢–µ–∫—Å—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ Supabase Dashboard

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
1. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (–¥–∞–∂–µ –∞–Ω–æ–Ω–∏–º–Ω–æ)
2. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –µ–≥–æ XP –∏ —É—Ä–æ–≤–µ–Ω—å
3. –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è gracefully

## üéØ –ß—Ç–æ –µ—â–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –¥–ª—è –ø–æ–ª–Ω–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:

1. `components/trainer/ScoreCard.tsx`
2. `components/trainer/TranscriptDiff.tsx`
3. `components/game/BadgeDisplay.tsx`
4. `components/game/Mascot.tsx`
5. `components/game/XPProgress.tsx`
6. `app/profile/page.tsx`
7. `app/auth/login/page.tsx`
8. `app/auth/register/page.tsx`

–í—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã —É–∂–µ –µ—Å—Ç—å –≤ `messages/ru.json` - –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å `useTranslations()` –∏ –∏—Å–ø–æ–ª—å–∑—É–π –∫–ª—é—á–∏.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –†–∞–±–æ—Ç—ã

1. ‚úÖ –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º
2. ‚úÖ –í—ã–±–µ—Ä–∏ —Ç–µ–∫—Å—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è
3. ‚úÖ –ó–∞–ø–∏—à–∏ —á—Ç–µ–Ω–∏–µ
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è –≤ Supabase
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üêõ –†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "Invalid supabaseUrl"
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `.env.local` —Å–æ–∑–¥–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ URL –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `https://`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ dev server –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env.local`

### –¢–µ–∫—Å—Ç—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `reading_texts` —Å–æ–∑–¥–∞–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã –∫–∞–∫ fallback

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `reading_results` —Å–æ–∑–¥–∞–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –≤ Supabase

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Supabase
3. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

